<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple K-Level PDF</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body style="font-family: sans-serif; background: #f6f6f6; text-align: center; padding: 30px;">
  <h2>Simple K-Level PDF Generator</h2>
  <p>Generates a table with (●) in K1 and (o) in other K-levels.</p>

  <label>Total Questions: 
    <input type="number" id="qcount" value="10" min="1" max="200" />
  </label>
  <br><br>
  <button onclick="generatePDF()">Generate PDF</button>

  <script>
    async function generatePDF(){
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const qcount = Math.max(1, Math.min(200, parseInt(document.getElementById('qcount').value || '1', 10)));

      let y = 20;
      const startX = 10;
      const colWidths = [15, 25, 25, 25, 25, 25, 25];
      const headers = ['Q.No','K1','K2','K3','K4','K5','K6'];
      const rowHeight = 8;
      const dot = '(●)';
      const ring = '(o)';

      function drawRow(values){
        let x = startX;
        values.forEach((val,i)=>{
          doc.rect(x, y-rowHeight+2, colWidths[i], rowHeight, 'S');
          doc.text(val, x+colWidths[i]/2, y, { align: 'center' });
          x += colWidths[i];
        });
        y += rowHeight;
        if(y > 280){ doc.addPage(); y=20; drawHeader(); }
      }

      function drawHeader(){
        let x = startX;
        doc.setFont(undefined, 'bold');
        headers.forEach((h,i)=>{
          doc.rect(x, y-rowHeight+2, colWidths[i], rowHeight, 'S');
          doc.text(h, x+colWidths[i]/2, y, { align: 'center' });
          x += colWidths[i];
        });
        doc.setFont(undefined, 'normal');
        y += rowHeight;
      }

      drawHeader();

      for(let i=1; i<=qcount; i++){
        drawRow([String(i), dot, ring, ring, ring, ring, ring]);
      }

      doc.save('simple_k_level.pdf');
    }
  </script>
</body>
</html>
